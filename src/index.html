<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Ditheroid - Retro Image Editor</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Ditheroid: Advanced creative error diffusion editor. Retro image dithering with AI-powered background removal and multiple vintage themes.">
  <meta name="theme-color" content="#ff00ff">
  
  <!-- Permissions Policy -->
  <meta http-equiv="Permissions-Policy" content="camera=(self), microphone=()">
  
  <!-- Iconos -->
  <link rel="icon" type="image/svg+xml" href="/icon.svg">
  <link rel="icon" type="image/png" sizes="512x512" href="/icon-512.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icon-192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icon-16.png">
  <link rel="apple-touch-icon" href="/icon-192.png">
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="/manifest.json">
  
  <script src="/gif.js"></script>
  
  <!-- Ko-fi Widget -->
  <script src='https://storage.ko-fi.com/cdn/scripts/overlay-widget.js'></script>
</head>
<body>
  <app-root></app-root>
  
  <!-- Ko-fi Widget Initialization -->
  <script>
    // Initial widget setup - will be updated by Angular when theme changes
    // Only show floating widget on desktop (mobile uses modal button instead)
    window.addEventListener('DOMContentLoaded', () => {
      setTimeout(() => {
        // Check if desktop (width > 768px)
        const isDesktop = window.innerWidth > 768;
        
        if (isDesktop && typeof kofiWidgetOverlay !== 'undefined') {
          // Initial draw with default colors, Angular will update it
          kofiWidgetOverlay.draw('daede', {
            'type': 'floating-chat',
            'floating-chat.donateButton.text': 'Support me',
            'floating-chat.donateButton.background-color': '#00ff00',
            'floating-chat.donateButton.text-color': '#0f1f0f'
          });
        }
      }, 1000);
    });
  </script>
</body>
</html>
